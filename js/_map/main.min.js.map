{"version":3,"file":"main.min.js","sources":["main.js"],"sourcesContent":["; (d => {\n  'use strict';\n\n  const btnSubmit = d.querySelector('.btn-submit'),\n    out = d.getElementById('rate-output'),\n    sectionRate = d.querySelector('.rate'),\n    sectionThx = d.querySelector('.thx');\n\n  btnSubmit.addEventListener('click', e => {\n    e.preventDefault();\n\n    let form = e.target.form,\n      formData = new FormData(form),\n      fetchURL = form.action,\n      fetchOption = { redirect: 'error' };\n\n    // IF method GET\n    if (form.method.toLowerCase() === 'get') {\n      fetchURL += '?' + (new URLSearchParams(formData)).toString();\n      // ELSE method POST\n    } else {\n      fetchOption = Object.assign(fetchOption, {\n        body: formData,\n        headers: {\n          'Content-Type': form.enctype\n        },\n        method: form.method\n      });\n    }\n\n    fetch(fetchURL, fetchOption)\n      .then(res => {\n        // IF status 2xx\n        if (res.ok) {\n          out.textContent = formData.get('rate');\n          sectionRate.hidden = true;\n          sectionThx.hidden = false;\n          return true;\n        }\n        // ELSE\n        let failData = Object.assign(Object.create(null), {\n          status: res.status,\n          url: res.url,\n          body: res.bodyUsed ? res.body : null\n        });\n        console.debug('Submit failed! %o', failData);\n        return false;\n      })\n      .catch(error => console.error('Error! %o', error));\n  });\n\n})(document);\n"],"names":["d","btnSubmit","querySelector","out","getElementById","sectionRate","sectionThx","addEventListener","e","preventDefault","let","form","target","formData","FormData","fetchURL","action","fetchOption","redirect","method","toLowerCase","URLSearchParams","toString","Object","assign","body","headers","Content-Type","enctype","fetch","then","res","ok","textContent","get","hidden","failData","create","status","url","bodyUsed","console","debug","catch","error","document"],"mappings":"CAAGA,IACD,aAEA,MAAMC,EAAYD,EAAEE,cAAc,aAAa,EAC7CC,EAAMH,EAAEI,eAAe,aAAa,EACpCC,EAAcL,EAAEE,cAAc,OAAO,EACrCI,EAAaN,EAAEE,cAAc,MAAM,EAErCD,EAAUM,iBAAiB,QAASC,IAClCA,EAAEC,eAAe,EAEjBC,IAAIC,EAAOH,EAAEI,OAAOD,KAClBE,EAAW,IAAIC,SAASH,CAAI,EAC5BI,EAAWJ,EAAKK,OAChBC,EAAc,CAAEC,SAAU,OAAQ,EAGF,QAA9BP,EAAKQ,OAAOC,YAAY,EAC1BL,GAAY,IAAM,IAAKM,gBAAgBR,CAAS,EAAES,SAAS,EAG3DL,EAAcM,OAAOC,OAAOP,EAAa,CACvCQ,KAAMZ,EACNa,QAAS,CACPC,eAAgBhB,EAAKiB,OACvB,EACAT,OAAQR,EAAKQ,MACf,CAAC,EAGHU,MAAMd,EAAUE,CAAW,EACxBa,KAAKC,IAEJ,OAAIA,EAAIC,IACN7B,EAAI8B,YAAcpB,EAASqB,IAAI,MAAM,EACrC7B,EAAY8B,OAAS,CAAA,EAEd,EADP7B,EAAW6B,OAAS,CAAA,KAIlBC,EAAWb,OAAOC,OAAOD,OAAOc,OAAO,IAAI,EAAG,CAChDC,OAAQP,EAAIO,OACZC,IAAKR,EAAIQ,IACTd,KAAMM,EAAIS,SAAWT,EAAIN,KAAO,IAClC,CAAC,EACDgB,QAAQC,MAAM,oBAAqBN,CAAQ,EACpC,CAAA,EACT,CAAC,EACAO,MAAMC,GAASH,QAAQG,MAAM,YAAaA,CAAK,CAAC,CACrD,CAAC,CAEF,GAAEC,QAAQ"}